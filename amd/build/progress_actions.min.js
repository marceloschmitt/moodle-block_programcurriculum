define("block_programcurriculum/progress_actions",[],function(){"use strict";var init=function(){var container=document.querySelector(".programcurriculum-progress");var modalEl=document.getElementById("programcurriculum-moodle-modal");var modalTitle=document.getElementById("programcurriculum-moodle-modal-title");var modalBody=document.getElementById("programcurriculum-moodle-modal-body");var links=document.querySelectorAll(".programcurriculum-external-link");if(!modalEl||!modalTitle||!modalBody){return}var completedStr=container&&container.getAttribute("data-completed-str")||"Completed";var notcompletedStr=container&&container.getAttribute("data-notcompleted-str")||"Not completed";var modal=new bootstrap.Modal(modalEl);links.forEach(function(link){link.addEventListener("click",function(e){e.preventDefault();var externalName=link.getAttribute("data-external-name")||"";var moodlecoursesJson=link.getAttribute("data-moodlecourses")||"[]";var moodlecourses=[];try{moodlecourses=JSON.parse(moodlecoursesJson)}catch(err){moodlecourses=[]}modalTitle.textContent=externalName;var bodyHtml='<ul class="list-unstyled mb-0">';moodlecourses.forEach(function(mc){bodyHtml+='<li class="py-2 border-bottom d-flex justify-content-between align-items-center">';bodyHtml+='<span>'+(mc.name||"")+"</span>";bodyHtml+='<span class="badge '+(mc.completed?"bg-success":"bg-secondary")+'">';bodyHtml+=mc.completed?completedStr:notcompletedStr;bodyHtml+="</span></li>"});bodyHtml+="</ul>";modalBody.innerHTML=bodyHtml;modal.show()})})};return{init:init}});
