define("block_programcurriculum/progress_actions",[],function(){"use strict";var init=function(){var container=document.querySelector(".programcurriculum-progress");var modalTitle=document.getElementById("programcurriculum-moodle-modal-title");var modalBody=document.getElementById("programcurriculum-moodle-modal-body");var modalTrigger=document.getElementById("programcurriculum-moodle-modal-trigger");var buttons=document.querySelectorAll(".programcurriculum-moodle-btn");if(!modalTitle||!modalBody||!modalTrigger||!buttons.length){return}var completedStr=container&&container.getAttribute("data-completed-str")||"Completed";var notcompletedStr=container&&container.getAttribute("data-notcompleted-str")||"Not completed";buttons.forEach(function(btn){btn.addEventListener("click",function(e){e.preventDefault();var externalName=btn.getAttribute("data-external-name")||"";var moodlecoursesJson=btn.getAttribute("data-moodlecourses")||"[]";var moodlecourses=[];try{moodlecourses=JSON.parse(moodlecoursesJson)}catch(err){moodlecourses=[]}modalTitle.textContent=externalName;var bodyHtml='<ul class="list-unstyled mb-0">';moodlecourses.forEach(function(mc){bodyHtml+='<li class="py-2 border-bottom d-flex justify-content-between align-items-center">';bodyHtml+='<span>'+(mc.name||"").replace(/</g,"&lt;").replace(/>/g,"&gt;")+"</span>";bodyHtml+='<span class="badge '+(mc.completed?"bg-success":"bg-secondary")+'">';bodyHtml+=mc.completed?completedStr:notcompletedStr;bodyHtml+="</span></li>"});bodyHtml+="</ul>";modalBody.innerHTML=bodyHtml;modalTrigger.click()})})};return{init:init}});
